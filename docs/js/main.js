!function(e){var n={};function l(c){if(n[c])return n[c].exports;var t=n[c]={i:c,l:!1,exports:{}};return e[c].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,n,c){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:c})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)l.d(c,t,function(n){return e[n]}.bind(null,t));return c},l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="",l(l.s=1)}([,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/helper.js\nconst addClass = (ele, newClass) => {\n  if (newClass === undefined || newClass.trim() === '') {\n    return\n  }\n  newClass = newClass.trim()\n  let classes = ele.className.split(' ')\n  if (classes.indexOf(newClass) > -1) {\n    return\n  }\n  classes.push(newClass)\n  ele.className = classes.join(' ')\n}\nconst removeClass = (ele, className) => {\n  if (className === undefined || className.trim() === '') {\n    return\n  }\n  className = className.trim()\n  let classes = ele.className.split(' ')\n  let classIndex = classes.indexOf(className)\n  if (classIndex > -1) {\n    classes.splice(classIndex, 1)\n    ele.className = classes.join(' ')\n  }\n}\nconst onScroll = (cb) => {\n  window.addEventListener('scroll', () => {\n    if (lowEnough()) {\n      cb && cb()\n    }\n    \n  }, false)\n}\n function lowEnough() {\n   const ele = document.querySelector('.main')\n   var pageHeight = Math.max(ele.scrollHeight, ele.offsetHeight);\n   var viewportHeight = window.innerHeight ||\n     document.documentElement.clientHeight ||\n     document.body.clientHeight || 0;\n   var scrollHeight = window.pageYOffset ||\n     document.documentElement.scrollTop ||\n     document.body.scrollTop || 0;\n     console.log(pageHeight, viewportHeight, scrollHeight)\n   return pageHeight - viewportHeight - scrollHeight < 100; // 通过 真实内容高度 - 视窗高度 - 上面隐藏的高度 < 20，作为加载的触发条件\n }\n\n// CONCATENATED MODULE: ./src/index.js\n\n// 30 * 30\n\nvar itemIndex=0\nclass SeatNode {\n  constructor(el, key) {\n    this.key = key\n    if (typeof el === 'string') {\n      this.el = document.querySelector(el)\n    } else if (typeof el === 'object' && this.el) {\n      this.el = el\n    } else {\n      this.el = this.__createNode(++itemIndex)\n    }\n  }\n\n  __createNode (index) {\n    let node = document.createElement('div')\n    node.textContent = index\n    node.id = this.key\n    node.className = \"seat\"\n    node.dataset.choosed = '0'\n    return node \n  }\n}\n\nconst seats = new Array(30 * 30).fill(Object.assign({}, {\n  choose: false,\n  node: null\n}))\n\nconst docfrag = document.createDocumentFragment()\nseats.forEach((s, i) => {\n  s.node = new SeatNode(null, \"seat-\" + i)\n  docfrag.appendChild(s.node.el)\n})\n\n\nwindow.addEventListener('load', () => {\n  const container = document.querySelector(\".main\")\n  container.appendChild(docfrag)\n  container.addEventListener('click', (event) => {\n    if(event.target.className.indexOf('seat') <= -1) {\n      return\n    }\n    const ele = event.target\n    if ('0' === ele.dataset.choosed) {\n      ele.dataset.choosed = '1'\n      addClass(ele, 'choosed')\n      ele.className += '  '\n      return\n    }\n    ele.dataset.choosed = '0'\n    removeClass(ele, 'choosed')\n  })\n})\nonScroll(() => {\n  const docfrag = document.createDocumentFragment()\n  seats.forEach((s, i) => {\n    s.node = new SeatNode(null, \"seat-\" + i)\n    docfrag.appendChild(s.node.el)\n  })\n  requestAnimationFrame(() => {\n    document.querySelector(\".main\").appendChild(docfrag)\n  })\n})\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9oZWxwZXIuanM/NjI3NSIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYWRkQ2xhc3MgPSAoZWxlLCBuZXdDbGFzcykgPT4ge1xuICBpZiAobmV3Q2xhc3MgPT09IHVuZGVmaW5lZCB8fCBuZXdDbGFzcy50cmltKCkgPT09ICcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgbmV3Q2xhc3MgPSBuZXdDbGFzcy50cmltKClcbiAgbGV0IGNsYXNzZXMgPSBlbGUuY2xhc3NOYW1lLnNwbGl0KCcgJylcbiAgaWYgKGNsYXNzZXMuaW5kZXhPZihuZXdDbGFzcykgPiAtMSkge1xuICAgIHJldHVyblxuICB9XG4gIGNsYXNzZXMucHVzaChuZXdDbGFzcylcbiAgZWxlLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbignICcpXG59XG5leHBvcnQgY29uc3QgcmVtb3ZlQ2xhc3MgPSAoZWxlLCBjbGFzc05hbWUpID0+IHtcbiAgaWYgKGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGNsYXNzTmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRyaW0oKVxuICBsZXQgY2xhc3NlcyA9IGVsZS5jbGFzc05hbWUuc3BsaXQoJyAnKVxuICBsZXQgY2xhc3NJbmRleCA9IGNsYXNzZXMuaW5kZXhPZihjbGFzc05hbWUpXG4gIGlmIChjbGFzc0luZGV4ID4gLTEpIHtcbiAgICBjbGFzc2VzLnNwbGljZShjbGFzc0luZGV4LCAxKVxuICAgIGVsZS5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKVxuICB9XG59XG5leHBvcnQgY29uc3Qgb25TY3JvbGwgPSAoY2IpID0+IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICBpZiAobG93RW5vdWdoKCkpIHtcbiAgICAgIGNiICYmIGNiKClcbiAgICB9XG4gICAgXG4gIH0sIGZhbHNlKVxufVxuIGZ1bmN0aW9uIGxvd0Vub3VnaCgpIHtcbiAgIGNvbnN0IGVsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJylcbiAgIHZhciBwYWdlSGVpZ2h0ID0gTWF0aC5tYXgoZWxlLnNjcm9sbEhlaWdodCwgZWxlLm9mZnNldEhlaWdodCk7XG4gICB2YXIgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHxcbiAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fFxuICAgICBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCB8fCAwO1xuICAgdmFyIHNjcm9sbEhlaWdodCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fFxuICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8XG4gICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDA7XG4gICAgIGNvbnNvbGUubG9nKHBhZ2VIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0LCBzY3JvbGxIZWlnaHQpXG4gICByZXR1cm4gcGFnZUhlaWdodCAtIHZpZXdwb3J0SGVpZ2h0IC0gc2Nyb2xsSGVpZ2h0IDwgMTAwOyAvLyDpgJrov4cg55yf5a6e5YaF5a656auY5bqmIC0g6KeG56qX6auY5bqmIC0g5LiK6Z2i6ZqQ6JeP55qE6auY5bqmIDwgMjDvvIzkvZzkuLrliqDovb3nmoTop6blj5HmnaHku7ZcbiB9XG4iLCJpbXBvcnQge1xuICBhZGRDbGFzcyxcbiAgcmVtb3ZlQ2xhc3MsXG4gIG9uU2Nyb2xsXG59IGZyb20gXCIuL2hlbHBlclwiO1xuLy8gMzAgKiAzMFxuXG52YXIgaXRlbUluZGV4PTBcbmNsYXNzIFNlYXROb2RlIHtcbiAgY29uc3RydWN0b3IoZWwsIGtleSkge1xuICAgIHRoaXMua2V5ID0ga2V5XG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSAnb2JqZWN0JyAmJiB0aGlzLmVsKSB7XG4gICAgICB0aGlzLmVsID0gZWxcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbCA9IHRoaXMuX19jcmVhdGVOb2RlKCsraXRlbUluZGV4KVxuICAgIH1cbiAgfVxuXG4gIF9fY3JlYXRlTm9kZSAoaW5kZXgpIHtcbiAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS50ZXh0Q29udGVudCA9IGluZGV4XG4gICAgbm9kZS5pZCA9IHRoaXMua2V5XG4gICAgbm9kZS5jbGFzc05hbWUgPSBcInNlYXRcIlxuICAgIG5vZGUuZGF0YXNldC5jaG9vc2VkID0gJzAnXG4gICAgcmV0dXJuIG5vZGUgXG4gIH1cbn1cblxuY29uc3Qgc2VhdHMgPSBuZXcgQXJyYXkoMzAgKiAzMCkuZmlsbChPYmplY3QuYXNzaWduKHt9LCB7XG4gIGNob29zZTogZmFsc2UsXG4gIG5vZGU6IG51bGxcbn0pKVxuXG5jb25zdCBkb2NmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG5zZWF0cy5mb3JFYWNoKChzLCBpKSA9PiB7XG4gIHMubm9kZSA9IG5ldyBTZWF0Tm9kZShudWxsLCBcInNlYXQtXCIgKyBpKVxuICBkb2NmcmFnLmFwcGVuZENoaWxkKHMubm9kZS5lbClcbn0pXG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKVxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jZnJhZylcbiAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdzZWF0JykgPD0gLTEpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBlbGUgPSBldmVudC50YXJnZXRcbiAgICBpZiAoJzAnID09PSBlbGUuZGF0YXNldC5jaG9vc2VkKSB7XG4gICAgICBlbGUuZGF0YXNldC5jaG9vc2VkID0gJzEnXG4gICAgICBhZGRDbGFzcyhlbGUsICdjaG9vc2VkJylcbiAgICAgIGVsZS5jbGFzc05hbWUgKz0gJyAgJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGVsZS5kYXRhc2V0LmNob29zZWQgPSAnMCdcbiAgICByZW1vdmVDbGFzcyhlbGUsICdjaG9vc2VkJylcbiAgfSlcbn0pXG5vblNjcm9sbCgoKSA9PiB7XG4gIGNvbnN0IGRvY2ZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgc2VhdHMuZm9yRWFjaCgocywgaSkgPT4ge1xuICAgIHMubm9kZSA9IG5ldyBTZWF0Tm9kZShudWxsLCBcInNlYXQtXCIgKyBpKVxuICAgIGRvY2ZyYWcuYXBwZW5kQ2hpbGQocy5ub2RlLmVsKVxuICB9KVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKS5hcHBlbmRDaGlsZChkb2NmcmFnKVxuICB9KVxufSkiXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")}]);